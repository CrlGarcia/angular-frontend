{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { Validators } from \"@angular/forms\";\nlet LoginComponent = class LoginComponent {\n  constructor(formBuilder, route, router, authService) {\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.router = router;\n    this.authService = authService;\n    this.loading = false;\n    this.submitted = false;\n    this.error = \"\";\n    this.returnUrl = \"\";\n  }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      email: [\"\", [Validators.required, Validators.email]],\n      password: [\"\", Validators.required]\n    });\n    this.returnUrl = this.route.snapshot.queryParams[\"returnUrl\"] || \"/dashboard\";\n  }\n  get f() {\n    return this.loginForm.controls;\n  }\n  onSubmit() {\n    this.submitted = true;\n    this.error = \"\";\n    if (this.loginForm.invalid) {\n      return;\n    }\n    this.loading = true;\n    this.authService.login(this.f[\"email\"].value, this.f[\"password\"].value).subscribe({\n      next: success => {\n        if (success) {\n          this.router.navigateByUrl(this.returnUrl);\n        }\n      },\n      error: error => {\n        this.error = error;\n        this.loading = false;\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.component.html\",\n  styleUrls: [\"./login.component.css\"]\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"names":["Component","Validators","LoginComponent","constructor","formBuilder","route","router","authService","loading","submitted","error","returnUrl","ngOnInit","loginForm","group","email","required","password","snapshot","queryParams","f","controls","onSubmit","invalid","login","value","subscribe","next","success","navigateByUrl","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\MAMP\\htdocs\\angular\\src\\app\\auth\\login.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { AuthService } from \"./auth.service\";\r\n\r\n@Component({\r\n  selector: \"app-login\",\r\n  templateUrl: \"./login.component.html\",\r\n  styleUrls: [\"./login.component.css\"],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loginForm!: FormGroup;\r\n  loading = false;\r\n  submitted = false;\r\n  error = \"\";\r\n  returnUrl: string = \"\";\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private authService: AuthService,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loginForm = this.formBuilder.group({\r\n      email: [\"\", [Validators.required, Validators.email]],\r\n      password: [\"\", Validators.required],\r\n    });\r\n\r\n    this.returnUrl =\r\n      this.route.snapshot.queryParams[\"returnUrl\"] || \"/dashboard\";\r\n  }\r\n\r\n  get f() {\r\n    return this.loginForm.controls;\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.submitted = true;\r\n    this.error = \"\";\r\n\r\n    if (this.loginForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.authService\r\n      .login(this.f[\"email\"].value, this.f[\"password\"].value)\r\n      .subscribe({\r\n        next: (success) => {\r\n          if (success) {\r\n            this.router.navigateByUrl(this.returnUrl);\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.error = error;\r\n          this.loading = false;\r\n        },\r\n      });\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAiCC,UAAU,QAAQ,gBAAgB;AAS5D,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAOzBC,YACUC,WAAwB,EACxBC,KAAqB,EACrBC,MAAc,EACdC,WAAwB;IAHxB,KAAAH,WAAW,GAAXA,WAAW;IACX,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,WAAW,GAAXA,WAAW;IATrB,KAAAC,OAAO,GAAG,KAAK;IACf,KAAAC,SAAS,GAAG,KAAK;IACjB,KAAAC,KAAK,GAAG,EAAE;IACV,KAAAC,SAAS,GAAW,EAAE;EAOnB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACT,WAAW,CAACU,KAAK,CAAC;MACtCC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACd,UAAU,CAACe,QAAQ,EAAEf,UAAU,CAACc,KAAK,CAAC,CAAC;MACpDE,QAAQ,EAAE,CAAC,EAAE,EAAEhB,UAAU,CAACe,QAAQ;KACnC,CAAC;IAEF,IAAI,CAACL,SAAS,GACZ,IAAI,CAACN,KAAK,CAACa,QAAQ,CAACC,WAAW,CAAC,WAAW,CAAC,IAAI,YAAY;EAChE;EAEA,IAAIC,CAACA,CAAA;IACH,OAAO,IAAI,CAACP,SAAS,CAACQ,QAAQ;EAChC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACb,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,KAAK,GAAG,EAAE;IAEf,IAAI,IAAI,CAACG,SAAS,CAACU,OAAO,EAAE;MAC1B;IACF;IAEA,IAAI,CAACf,OAAO,GAAG,IAAI;IACnB,IAAI,CAACD,WAAW,CACbiB,KAAK,CAAC,IAAI,CAACJ,CAAC,CAAC,OAAO,CAAC,CAACK,KAAK,EAAE,IAAI,CAACL,CAAC,CAAC,UAAU,CAAC,CAACK,KAAK,CAAC,CACtDC,SAAS,CAAC;MACTC,IAAI,EAAGC,OAAO,IAAI;QAChB,IAAIA,OAAO,EAAE;UACX,IAAI,CAACtB,MAAM,CAACuB,aAAa,CAAC,IAAI,CAAClB,SAAS,CAAC;QAC3C;MACF,CAAC;MACDD,KAAK,EAAGA,KAAK,IAAI;QACf,IAAI,CAACA,KAAK,GAAGA,KAAK;QAClB,IAAI,CAACF,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACN;CACD;AAnDYN,cAAc,GAAA4B,UAAA,EAL1B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACW/B,cAAc,CAmD1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}