{"ast":null,"code":"import { BehaviorSubject, Observable } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nexport class AuthService {\n  constructor() {\n    this.currentUserSubject = new BehaviorSubject(null);\n    this.currentUser$ = this.currentUserSubject.asObservable();\n    this.isAuthenticatedSubject = new BehaviorSubject(false);\n    this.isAuthenticated$ = this.isAuthenticatedSubject.asObservable();\n    this.checkAuthStatus();\n  }\n  login(email, password) {\n    return new Observable(observer => {\n      // Simulando uma chamada HTTP\n      setTimeout(() => {\n        if (email === \"user@example.com\" && password === \"password123\") {\n          const user = {\n            id: \"1\",\n            email: email,\n            name: \"Usuário Teste\"\n          };\n          localStorage.setItem(\"currentUser\", JSON.stringify(user));\n          this.currentUserSubject.next(user);\n          this.isAuthenticatedSubject.next(true);\n          observer.next(true);\n        } else {\n          observer.error(\"Email ou senha inválidos\");\n        }\n        observer.complete();\n      }, 500);\n    });\n  }\n  logout() {\n    localStorage.removeItem(\"currentUser\");\n    this.currentUserSubject.next(null);\n    this.isAuthenticatedSubject.next(false);\n  }\n  checkAuthStatus() {\n    const user = localStorage.getItem(\"currentUser\");\n    if (user) {\n      this.currentUserSubject.next(JSON.parse(user));\n      this.isAuthenticatedSubject.next(true);\n    }\n  }\n  isAuthenticated() {\n    return this.isAuthenticatedSubject.value;\n  }\n  static {\n    this.ɵfac = function AuthService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AuthService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthService,\n      factory: AuthService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","Observable","AuthService","constructor","currentUserSubject","currentUser$","asObservable","isAuthenticatedSubject","isAuthenticated$","checkAuthStatus","login","email","password","observer","setTimeout","user","id","name","localStorage","setItem","JSON","stringify","next","error","complete","logout","removeItem","getItem","parse","isAuthenticated","value","factory","ɵfac","providedIn"],"sources":["C:\\MAMP\\htdocs\\angular\\src\\app\\auth\\auth.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable } from \"rxjs\";\r\n\r\nexport interface User {\r\n  id?: string;\r\n  email: string;\r\n  name?: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AuthService {\r\n  private currentUserSubject = new BehaviorSubject<User | null>(null);\r\n  public currentUser$ = this.currentUserSubject.asObservable();\r\n\r\n  private isAuthenticatedSubject = new BehaviorSubject<boolean>(false);\r\n  public isAuthenticated$ = this.isAuthenticatedSubject.asObservable();\r\n\r\n  constructor() {\r\n    this.checkAuthStatus();\r\n  }\r\n\r\n  login(email: string, password: string): Observable<boolean> {\r\n    return new Observable((observer) => {\r\n      // Simulando uma chamada HTTP\r\n      setTimeout(() => {\r\n        if (email === \"user@example.com\" && password === \"password123\") {\r\n          const user: User = {\r\n            id: \"1\",\r\n            email: email,\r\n            name: \"Usuário Teste\",\r\n          };\r\n          localStorage.setItem(\"currentUser\", JSON.stringify(user));\r\n          this.currentUserSubject.next(user);\r\n          this.isAuthenticatedSubject.next(true);\r\n          observer.next(true);\r\n        } else {\r\n          observer.error(\"Email ou senha inválidos\");\r\n        }\r\n        observer.complete();\r\n      }, 500);\r\n    });\r\n  }\r\n\r\n  logout(): void {\r\n    localStorage.removeItem(\"currentUser\");\r\n    this.currentUserSubject.next(null);\r\n    this.isAuthenticatedSubject.next(false);\r\n  }\r\n\r\n  private checkAuthStatus(): void {\r\n    const user = localStorage.getItem(\"currentUser\");\r\n    if (user) {\r\n      this.currentUserSubject.next(JSON.parse(user));\r\n      this.isAuthenticatedSubject.next(true);\r\n    }\r\n  }\r\n\r\n  isAuthenticated(): boolean {\r\n    return this.isAuthenticatedSubject.value;\r\n  }\r\n}\r\n"],"mappings":"AACA,SAASA,eAAe,EAAEC,UAAU,QAAQ,MAAM;;AAWlD,OAAM,MAAOC,WAAW;EAOtBC,YAAA;IANQ,KAAAC,kBAAkB,GAAG,IAAIJ,eAAe,CAAc,IAAI,CAAC;IAC5D,KAAAK,YAAY,GAAG,IAAI,CAACD,kBAAkB,CAACE,YAAY,EAAE;IAEpD,KAAAC,sBAAsB,GAAG,IAAIP,eAAe,CAAU,KAAK,CAAC;IAC7D,KAAAQ,gBAAgB,GAAG,IAAI,CAACD,sBAAsB,CAACD,YAAY,EAAE;IAGlE,IAAI,CAACG,eAAe,EAAE;EACxB;EAEAC,KAAKA,CAACC,KAAa,EAAEC,QAAgB;IACnC,OAAO,IAAIX,UAAU,CAAEY,QAAQ,IAAI;MACjC;MACAC,UAAU,CAAC,MAAK;QACd,IAAIH,KAAK,KAAK,kBAAkB,IAAIC,QAAQ,KAAK,aAAa,EAAE;UAC9D,MAAMG,IAAI,GAAS;YACjBC,EAAE,EAAE,GAAG;YACPL,KAAK,EAAEA,KAAK;YACZM,IAAI,EAAE;WACP;UACDC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;UACzD,IAAI,CAACX,kBAAkB,CAACkB,IAAI,CAACP,IAAI,CAAC;UAClC,IAAI,CAACR,sBAAsB,CAACe,IAAI,CAAC,IAAI,CAAC;UACtCT,QAAQ,CAACS,IAAI,CAAC,IAAI,CAAC;QACrB,CAAC,MAAM;UACLT,QAAQ,CAACU,KAAK,CAAC,0BAA0B,CAAC;QAC5C;QACAV,QAAQ,CAACW,QAAQ,EAAE;MACrB,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,CAAC;EACJ;EAEAC,MAAMA,CAAA;IACJP,YAAY,CAACQ,UAAU,CAAC,aAAa,CAAC;IACtC,IAAI,CAACtB,kBAAkB,CAACkB,IAAI,CAAC,IAAI,CAAC;IAClC,IAAI,CAACf,sBAAsB,CAACe,IAAI,CAAC,KAAK,CAAC;EACzC;EAEQb,eAAeA,CAAA;IACrB,MAAMM,IAAI,GAAGG,YAAY,CAACS,OAAO,CAAC,aAAa,CAAC;IAChD,IAAIZ,IAAI,EAAE;MACR,IAAI,CAACX,kBAAkB,CAACkB,IAAI,CAACF,IAAI,CAACQ,KAAK,CAACb,IAAI,CAAC,CAAC;MAC9C,IAAI,CAACR,sBAAsB,CAACe,IAAI,CAAC,IAAI,CAAC;IACxC;EACF;EAEAO,eAAeA,CAAA;IACb,OAAO,IAAI,CAACtB,sBAAsB,CAACuB,KAAK;EAC1C;;;uCAjDW5B,WAAW;IAAA;EAAA;;;aAAXA,WAAW;MAAA6B,OAAA,EAAX7B,WAAW,CAAA8B,IAAA;MAAAC,UAAA,EAFV;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}